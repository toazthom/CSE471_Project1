# Effects
All of this component was created by Thomas Toaz as a group of one.

You can control which notes have which effects by putting them under instrument tags in the score file that have the corresponding effect attributes, allowing you to
control where in the piece the effects will appear.

Each effect is it's own class with a parent class of CEffect. The CEffect class itself serves mostly an organizational purpose and has a pure virtual Process(double* frameIn, double* frameOut) for each effect to inherit and implement.

The parameter frameIn is the frame generated by the current instrument being processed in the synthesizer Generate function: the input frame before any tinkering occurs. The parameter frameOut is a pointer to the empty stereo frames that will 
be added to the total main/streaming frame, after they are assigned the values of the effected input frames. After each instrument object is created in the synthesizer Generate function, boolean values are turned on for each effect attribute.
After the instrument Generate function is called to produce the input frames, a series of if statement check these booleans and send the input frames to the cooresponding effect's process function before adding them to the output frames, meeting the requirement of : 10 - Component passes audio.
Effects are added in parallel. Three effects were created to meet the 30/50 solo project requirement of 3 effects.

### Compressor
The Compressor process function checks if amplitude of the input frames exceeds a certain threshold. If they do, they are reduced by a factor of the difference between the absolute value of the input and threshold (in this case the threshold is 1.0)
divided by compression ration (4 was used in this case). If they do not meet this threshold, the input frame is left as it is. This gets reduces/compresses some of the louder tones creating a lower/more brash sound.

### Noise Gate
The Noise Gate process function acts very similarly to that of the Compressor, but in reverse. If the amplitude of the input frames is below a certain threshold, they are set to 0, removing frames that do not meet or exceed the threshold (1.0 in this case as well).
If they to meet or exceed the threshold, they are left alone. This remove quiet tones or often the softer/lower resonant tones of the instruments, making their notes seem a little shorter and lighter in pitch.

### Ring Modulator
Ring Modulation is all about combining two signals/frequencies. The process function usses an A4 as a carrier frequency and makes a sine wave, much like the ToneInstrument of step 5, incrementing a member variable of time with each call.
The carrier signal generated by the sine wave is then multiplied by the input frame to generate the output frame, combining the signals. This produces offpitch/discordant tones.  


Here is a [Score](Effects.score) using the wavetable accordion instrument I made to demonstrate each of the effects. The [Audio](Effects.wav) consists of the accordion playing two notes, first with no effects, then going through and playing them once with each effect, with every pairing of effect, and finally with every effect applied. Click the link and download the audio to listen to it.

[Back To Main Page](README.md)
